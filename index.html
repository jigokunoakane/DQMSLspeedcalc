<!DOCTYPE html>
<html>
<head>
  <meta name="google-site-verification" content="estfiUqpUODBzay9FWYvlZ_ejhdKoIAONp1J7wHyKbw" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>素早さテスト用 下の素早さ乱数計算てすとを使う</title>
  <style>
  
  html {
    -ms-touch-action:manipulation;
    touch-action:manipulation;
  }
    body {
  user-select: none;
  /* CSS3 */
  -moz-user-select: none;
  /* Firefox */
  -webkit-user-select: none;
  /* Safari、Chrome */
  -ms-user-select: none;
  /* Microsoft */
  font-family: sans-serif;
  font-weight:400;
  font-size: 100%;
}

#displaynormaldamage, #displayskilldamage {
  user-select: text;
  /* CSS3 */
  -moz-user-select: text;
  /* Firefox */
  -webkit-user-select: text;
  /* Safari、Chrome */
  -ms-user-select: text;
}

input[type="number"]::-webkit-outer-spin-button, input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

input[type="number"] {
  height: 1.1rem;
  font-size:100%;
}

select {
  -webkit-appearance: none;
  /* ベンダープレフィックス(Google Chrome、Safari用) */
  -moz-appearance: none;
  /* ベンダープレフィックス(Firefox用) */
  appearance: none;
  /* 標準のスタイルを無効にする */
  height: 1.6rem;
  width: max-content;
  padding: 0rem 0.5rem;
  margin-left: 0rem;
  margin-right: 0.3rem;
  text-align: left;
  border: none;
  border-radius: 0.85rem;
  background-color: #e9e9e9;
  color: #0075fb;
  font-size: 1rem;
}

button {
  height: 1.6rem;
  width: max-content;
  padding: 0rem 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  text-align: center;
  border: none;
  border-radius: 0.85rem;
  background-color: #e9e9e9;
  color: #0075fb;
  font-size: 1rem;
}


/*details*/

.additionalsettings {
  height: 1.4rem;
  transition: .5s;
}

.additionalsettings[open] {
  height: 4.6rem;
  background: #c3f6ff;
}

details {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  cursor: pointer;
}


/*4桁入力*/

#attackdefault, #defensedefault, #HPdefault, #intdefault, #enemyintdefault, #minintdamage, #maxintdamage {
  width: 2.3rem;
}


/*3桁入力*/

#intdefault, #enemyintdefault, #attackweapon {
  width: 1.8rem;
}

#koteidamage {
  width: 3rem;
  margin-top: 0.8rem;
  margin-bottom: 1rem;
}

#attackaddkasann, #attackaddjyousann, #defenseaddkasann, #defenseaddjyousann {
  width: 2rem;
}

#bairitsu {
  width: 3rem;
}

#attackanotherbuff {
  width: 1.5rem;
}

#intseed, #enemyintseed, #attackseed, #defenseseed, #defenseweapon, #intweapon, #enemyintweapon {
  width: 2.77rem;
  padding: 0rem 0.3rem;
  margin: 0rem 0rem;
}

#intbuff, #enemyintbuff {
  padding: 0rem 0.3rem;
  width: 4.6rem;
  margin-left: 0rem;
}

#attackLS, #defenseLS, #attackkeitoubuff, #defensekeitoubuff, #sukarabuff {
  padding: 0rem 0.3rem;
  margin: 0rem 0rem;
}

.conditions {
  width: 2rem;
}

.tabbutton {
  height: 1.6rem;
  width: max-content;
  padding: 0rem 0.2rem;
  margin-left: 0rem;
  margin-right: 0.1rem;
  text-align: center;
  border-radius: 0rem;
  border: 1px solid #000000;
}

.tabbutton.selected {
  border: 1px solid #000000;
  background-color: #000000;
  /*padding: 0rem 0rem; border 5px*/
}

.tabbutton.copied {
  border: 1px solid #000000;
  background-color: blue;
}

#calculateHPskillhit, #calculateHPnormalhit {
  margin: 0rem 0rem;
}

#HPseedselect, #HPLSselect {
  margin: 0rem 0rem;
}

.spelldamagetable {
  border-collapse: collapse;
}

button:disabled {
  background=color: #cccccc;
  color: #666666;
}

#copytab, #pastetab, #resettab {
  margin-top: 0.2rem;
}

.defselect.margin {
  margin-top: 0.5rem;
}

.bottomdetails {
  margin-top: 0.3rem;
}

.detailhighlight {
background-color: #e5f1ff;
border-bottom: 2px solid #b3c8e0;
}

  </style>
</head>
<body>
  <h2>素早さ乱数計算てすと</h2>
  <form>
    <input type="radio" name="izon" id="attizon" value="attizon" onclick="ifattizon()" checked>
    <label for="attizon">攻撃力依存</label>
    <input type="radio" name="izon" id="intizon" value="intizon" onclick="ifintizon()">
    <label for="intizon">賢さ依存</label>
    <input type="radio" name="izon" id="koteiizon" value="koteiizon" onclick="ifkoteiizon()">
    <label for="koteiizon">固定</label>
    <div class="inaccordancewithattack" id="inaccordancewithattack">
      <label for="attackdefault">攻撃力:</label>
      <input type="number" id="attackdefault" oninput="calculateDamage()">
      <label for="attackseed">種</label>
      <select id="attackseed" onchange="calculateDamage()">
    <option value="0" selected>+0</option>
        <optgroup label="攻撃・素早さ依存">
    <option value="24">+24  (攻25)</option>
    <option value="34">+34  (攻35)</option>
    <option value="40">+40  (攻45)</option>
    <option value="46">+46  (攻55)</option>
    <option value="52">+52  (攻65)</option>
    <option value="56">+56  (攻75)</option>
    <option value="58">+58  (攻85)</option>
    <option value="60">+60  (攻95)</option>
          </optgroup>
        <optgroup label="防御依存">
    <option value="48">+48  (防25)</option>
    <option value="68">+68  (防35)</option>
    <option value="80">+80  (防45)</option>
    <option value="112">+112  (防75)</option>
    <option value="120">+120  (防95)</option>
          </optgroup>
  </select>
      <label for="attackweapon">装備</label>
      <input type="number" id="attackweapon" oninput="calculateDamage()">
      <br>
      <label for="attackLS">LS</label>
      <select id="attackLS" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.05">+5%</option>
    <option value="1.1">+10%</option>
    <option value="1.15">+15%</option>
    <option value="1.18">+18%</option>
    <option value="1.2">+20%</option>
  </select>
      <label for="attackkeitoubuff">系統バフ</label>
      <select id="attackkeitoubuff" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.1">1.1</option>
    <option value="1.15">1.15</option>
    <option value="1.2">1.2</option>
    <option value="1.3">1.3</option>
    <option value="1.4">1.4</option>
    <option value="1.5">1.5</option>
  </select>
      <label for="attackanotherbuff">その他</label>
      <input type="number" id="attackanotherbuff" oninput="calculateDamage()">
      <!--
      <br>
      <button type="button" id="debugbtnatt">攻撃登録</button>
      <button type="button" id="debugbtndef">防御登録</button>
      <br>
      -->
      <details class="additionalsettings">
        <summary>追加設定</summary>
        &emsp;<label for="attackaddkasann">装備に加算</label>
        <input type="number" id="attackaddkasann" oninput="calculateDamage()">
        <label for="attackaddjyousann">LSに乗算</label>
        <input type="number" id="attackaddjyousann" oninput="calculateDamage()">
        <br>&emsp;現在の攻撃力:
        <span>ステ欄</span>
        <span id="displayattackhyouji"></span>
        <span>条件込み</span>
        <span id="displayattackincludingbuff"></span>
      </details>
        <select id="summonattackerselect" onchange="summonattacker()">
    <option value="yobidasi">攻撃側条件呼び出し</option>
    <optgroup label="S13 worldリーダー">
      <option value="world">WORLD先制</option>
      <option value="neru44">ネルゲル44</option>
      <option value="dream">ドレアム</option>
      <option value="ifshiba">イフシバ</option>
    </optgroup>
    <optgroup label="S15 darkリーダー">
      <option value="dark">DARK</option>
    </optgroup>
    <optgroup label="LSなし">
      <option value="esta">エスタ最速</option>
      <option value="estasword">オムドのエスタ</option>
    </optgroup>
    <optgroup label="悪魔">
      <option value="dyuran">デュラン</option>
    </optgroup>
    <optgroup label="スライム">
      <option value="hero">ヒーロー</option>
      <option value="girl">ガール</option>
    </optgroup>
  </select>
        <button type="button" id="resetattackerbtn">リセット</button>
      <hr>
      <label for="defensedefault">防御力:</label>
      <input type="number" id="defensedefault" oninput="calculateDamage()">
      <label for="defenseseed">種</label>
      <select id="defenseseed" onchange="calculateDamage()">
    <option value="0" selected>+0</option>
    <option value="48">+48  (防25)</option>
    <option value="80">+80  (防45)</option>
    <option value="92">+92  (防55)</option>
    <option value="104">+104  (防65)</option>
    <option value="112">+112  (防75)</option>
    <option value="120">+120  (防95)</option>
  </select>
      <label for="defenseweapon">装備</label>
      <select id="defenseweapon" onchange="calculateDamage()">
    <option value="0">+0</option>
    <option value="15">+15</option>
    <option value="32">+32</option>
    <option value="68">+68</option>
    <option value="84">+84</option>
    <option value="105">+105</option>
  </select>
      <br>
      <label for="defenseLS">LS</label>
      <select id="defenseLS" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="0.75">-25%</option>
    <option value="1.2">+20%</option>
  </select>
      <label for="defensekeitoubuff">系統防御</label>
      <select id="defensekeitoubuff" onchange="calculateDamage()">
    <option value="1">1</option>
    <option value="1.2">1.2</option>
    <option value="1.3">1.3</option>
    <option value="1.4">1.4</option>
    <option value="1.5">1.5</option>
    <option value="2">2</option>
    <option value="3">3</option>
  </select>
      <label for="sukarabuff">スカラ</label>
      <select id="sukarabuff" onchange="calculateDamage()">
    <option value="0.6">0.6</option>
    <option value="0.8">0.8</option>
    <option value="1" selected>1</option>
    <option value="1.2">1.2</option>
    <option value="1.4">1.4</option>
  </select>
      <br>


      <details class="additionalsettings">
        <summary>追加設定</summary>
        &emsp;<label for="defenseaddkasann">装備に加算</label>
        <input type="number" id="defenseaddkasann" oninput="calculateDamage()">
        <label for="defenseaddjyousann">LSに乗算</label>
        <input type="number" id="defenseaddjyousann" oninput="calculateDamage()">
        <br>&emsp;現在の防御力:
        <span>ステ欄</span>
        <span id="displaydefensehyouji"></span>
        <span>条件込み</span>
        <span id="displaydefenseincludingbuff"></span>
      </details>
    </div>
    <!--finish inaccordancewithattack-->









    <!--start inaccordancewithint-->
    <div class="inaccordancewithint" id="inaccordancewithint">
      <label for="intdefault">賢さ</label>
      <input type="number" id="intdefault" oninput="calculateint()">
      <label for="intseed">種</label>
      <select id="intseed" onchange="calculateint()">
    <option value="0" selected>+0</option>
    <option value="48">+48  (賢25)</option>
    <option value="68">+68  (賢35)</option>
    <option value="80">+80  (賢45)</option>
    <option value="92">+92  (賢55)</option>
    <option value="104">+104  (賢65)</option>
    <option value="112">+112  (賢75)</option>
    <option value="120">+120  (賢95)</option>
  </select>
      <label for="intweapon">装備</label>
      <select id="intweapon" onchange="calculateint()">
    <option value="0" selected>+0</option>
    <option value="18">+18  (昇天ヤリ)</option>
    <option value="24">+24  (ガルハート、日輪棍)</option>
    <option value="30">+30  (ノグ爪)</option>
    <option value="53">+53  (ミルドラローブ)</option>
    <option value="62">+62  (A杖+7)</option>
    <option value="68">+68  (A杖+10)</option>
    <option value="78">+78  (S杖+7)</option>
    <option value="84">+84  (S杖+10)</option>
    <option value="100">+100  (SS杖+7)</option>
    <option value="106">+106  (SS杖+10)</option>
    <option value="116">+116  (竜王杖)</option>
  </select>
      <select id="intbuff" onchange="calculateint()">
    <option value="1">インテ無</option>
    <option value="1.5">インテ1.5</option>
    <option value="2">インテ2</option>
    <option value="1.15">LS1.15</option>
    <option value="1.15">1.15・1.5</option>
    <option value="1.15">LS1.15</option>
  </select>
      <br>
      <label for="enemyintdefault">敵賢さ</label>
      <input type="number" id="enemyintdefault" oninput="calculateint()">
      <label for="enemyintseed">種</label>
      <select id="enemyintseed" onchange="calculateint()">
    <option value="0" selected>+0</option>
    <option value="48">+48  (賢25)</option>
    <option value="68">+68  (賢35)</option>
    <option value="80">+80  (賢45)</option>
    <option value="92">+92  (賢55)</option>
    <option value="104">+104  (賢65)</option>
    <option value="112">+112  (賢75)</option>
    <option value="120">+120  (賢95)</option>
  </select>
      <label for="enemyintweapon">装備</label>
      <select id="enemyintweapon" onchange="calculateint()">
    <option value="0" selected>+0</option>
    <option value="18">+18  (昇天ヤリ)</option>
    <option value="24">+24  (ガルハート、日輪棍)</option>
    <option value="30">+30  (ノグ爪)</option>
    <option value="53">+53  (ミルドラローブ)</option>
    <option value="62">+62  (A杖+7)</option>
    <option value="68">+68  (A杖+10)</option>
    <option value="78">+78  (S杖+7)</option>
    <option value="84">+84  (S杖+10)</option>
    <option value="100">+100  (SS杖+7)</option>
    <option value="106">+106  (SS杖+10)</option>
    <option value="116">+116  (竜王杖)</option>
  </select>
      <select id="enemyintbuff" onchange="calculateint()">
    <option value="1">インテ無</option>
    <option value="1.5">インテ1.5</option>
    <option value="2">インテ2</option>
    <option value="1.15">1.15</option>
    <option value="1.725">1.15・1.5</option>
    <option value="2.3">1.15・2</option>
  </select>
      <br>
      <span>賢さ値</span>
      <span id="displayintincludingbuff">0</span>
      <span>賢さ差</span>
      <select id="intdifferencebonus" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.1">1.10</option>
    <option value="1.11">1.11</option>
    <option value="1.12">1.12</option>
    <option value="1.13">1.13</option>
    <option value="1.14">1.14</option>
    <option value="1.15">1.15</option>
    <option value="1.16">1.16</option>
    <option value="1.17">1.17</option>
    <option value="1.18">1.18</option>
    <option value="1.19">1.19</option>
    <option value="1.2">1.20</option>
    <option value="1.21">1.21</option>
    <option value="1.22">1.22</option>
    <option value="1.23">1.23</option>
    <option value="1.24">1.24</option>
    <option value="1.25" selected>1.25</option>
    </select>
      <span>特技+</span>
      <select id="intskillplus" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.05">1.05</option>
    <option value="1.1">1.1</option>
    <option value="1.15" selected>1.15</option>
    <option value="1.09">1.09</option>
    </select>
      <div id="adiv">
      <select id="intskillselect" class ="displayspellselect" onchange="intskillselecter()">
    <option value="none" selected>呪文を選択する</option>
    <option value="reiji4">オムド4 零時</option>
    <option value="itehyado4">ロト4 いてヒャド</option>
    <option value="sennjigo4">ロト4 閃ジゴ</option>
    <option value="zetsuhyo44">絶氷</option>
    <option value="katasuto">カタストロフ</option>
    <option value="mata">マータ系</option>
    </select>
      <button type="button" id="resetspellbtn" class ="displayspellselect">リセット</button>
      </div>
      <table class＝ "spelldamagetable" border="1">
        <tr>
          <td>
            <select id="minint" onchange="calculateDamage()">
          <option value="100">100</option>
          <option value="200" selected>200</option>
          <option value="300">300</option>
        </select>
          </td>
          <td>
            <input type="number" id="minintdamage" oninput="calculateDamage()">
          </td>
        </tr>
        <tr>
          <td>
            <select id="maxint" onchange="calculateDamage()">
    <option value="400">400</option>
    <option value="500">500</option>
    <option value="600" selected>600</option>
    <option value="700">700</option>
    <option value="800">800</option>
    <option value="900">900</option>
    <option value="1000">1000</option>
  </select>
          </td>
          <td>
            <input type="number" id="maxintdamage" oninput="calculateDamage()">
          </td>
        </tr>
      </table>
      <hr>
    </div>
    <!--finish inaccordancewithint-->




    <div id="inaccordancewithkotei">
      <input type="number" id="koteidamage" oninput="calculateint()">
      <hr>
    </div>
    
    
      <select class="defselect" id="summondefenderselect" onchange="summondefender()">
    <option value="yobidasi">防御側条件呼び出し</option>
    <optgroup label="S13 worldリーダー">
    <option value="world">World4</option>
    <option value="neru44">ネル44</option>
    <option value="erugi44">エルギ44</option>
    <option value="sosiden44">そし伝44</option>
    <option value="S13tyoryu">超竜王44(防55)</option>
    <option value="vearn44">バーン44</option>
    <option value="S13esta">エスタ最速</option>
    <option value="S13dream">ドレアム44</option>
    <option value="S13rusia44">アンルシア44</option>
    <option value="S13kandata">カンダタ4</option>
    <option value="S13ni-su">ニース4</option>
    <option value="S13bogu">ボーグ4</option>
    <option value="S13apple">リンゴ4</option>
    </optgroup>
    <optgroup label="S15 darkリーダー">
    <option value="dark">DARK</option>
    </optgroup>
    <optgroup label="H35 ラプリーダー">
    <option value="rapu4">ラプ4</option>
    <option value="H35dagu44">ダグジャ44</option>
    <option value="H35sosiden44">そし伝44</option>
    <option value="H35esta">エスタ最速</option>
    <option value="H35ni-su">ニース4</option>
    <option value="H35apple">りんご</option>
    </optgroup>
    <optgroup label="ケトスL">
    <option value="ketosu">ケトス</option>
    <option value="tyoryu">超竜王(防55)</option>
    <option value="munbabon">ムンババ</option>
    <option value="H30ni-su">ニース4</option>
    </optgroup>
    <optgroup label="オムド">
    <option value="omudo4">オムド4</option>
    <option value="omudo44">オムド44</option>
    <option value="H40rapu4">ラプ4</option>
    <option value="H40orugo44">オルゴ44</option>
    <option value="H40esta">エスタ最速</option>
    <option value="nadoraga4">ナドラガ4</option>
    <option value="H40dagu44">ダグジャ44</option>
    <option value="god">かみさま4</option>
    <option value="yoiyami">宵闇44</option>
    <option value="ni-su">ニース4</option>
    </optgroup>
    <optgroup label="ルビス">
    <option value="rubisu">ルビス</option>
    <option value="logos">ロゴス</option>
    <option value="shinryu">しんりゅう44</option>
    <option value="golem">ゴーレム</option>
    </optgroup>
    <optgroup label="スライム">
    <option value="hero">ヒーロー</option>
    <option value="girl">ガール</option>
    </optgroup>
    <optgroup label="ドラゴン">
    <option value="masdora44">マスドラ44</option>
    <option value="sinri44">シンリ44</option>
    <option value="rusia44">アンルシア44</option>
    <option value="voruka44">ヴォルカ44</option>
    </optgroup>
    <optgroup label="物質">
    <option value="matter44">マター44</option>
    <option value="weapon44">ウェポン44</option>
    <option value="him4">ヒム4</option>
    <option value="box44">箱44</option>
    <option value="golem4">ゴーレム4</option>
    <option value="siro4">城4</option>
    </optgroup>
    <optgroup label="悪魔">
    <option value="tanisu44">タニス44</option>
    <option value="logos4">ロゴス4</option>
    <option value="dyuran4">デュラン4</option>
    <option value="jaha4">ジャハ4</option>
    <option value="zuishosai">ズイショウ最</option>
    </optgroup>
  </select>
      <button type="button" class="defselect" id="resetdefenderbtn">リセット</button>




    <hr>
    <label id="baikilabel" for="baiki">バイキ:</label>
    <select id="baiki" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.2">1.2</option>
    <option value="1.4">1.4</option>
</select>
    <button type="button" id="resetnormalconditionsbtn">リセット</button>
    <br>
    <label for="damebari">ダメバリ:</label>
    <select id="damebari" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="0.8">ダメバリ</option>
    <option value="0.7">30%軽減</option>
    <option value="0.66">精霊</option>
    <option value="0.6">40%軽減</option>
    <option value="0.5">50%軽減</option>
    <option value="0.3">70%軽減</option>
    <option value="0.1">天界</option>
</select>
    <br>
    <label for="jyousannnormal1">乗算:</label>
    <input type="number" class="conditions" id="jyousannnormal1" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannnormal2" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannnormal3" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannnormal4" oninput="calculateDamage()">
    <br>
    <label for="kasannnormal1">加算:</label>
    <span> 1+ </span>
    <input type="number" class="conditions" id="kasannnormal1" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannnormal2" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannnormal3" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannnormal4" oninput="calculateDamage()">
    <br>
    <div style="margin-left: 3.4rem;">
      <span> - </span>
      <input type="number" class="conditions" id="gennsannnormal1" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannnormal2" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannnormal3" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannnormal4" oninput="calculateDamage()">
    </div>
    <br>
    <label id="bairitsulabel" for="bairitsu">倍率:</label>
    <input type="number" id="bairitsu" oninput="calculateDamage()">
    <button type="button" id="resetskillconditionsbtn">リセット</button>
    <br>
    <label for="taisei">耐性:</label>
    <select id="taisei" onchange="calculateDamage()">
    <option value="0.25">激減</option>
    <option value="0.5">半減</option>
    <option value="0.75">軽減</option>
    <option value="1" selected>等倍</option>
    <option value="1.5">弱点</option>
    <option value="1.8">弱点1.8</option>
    <option value="2">大弱点</option>
    <option value="2.5">超弱点</option>
</select>
    <label for="rennkei">連携:</label>
    <select id="rennkei" onchange="calculateDamage()">
    <option value="1">なし</option>
    <option value="1.2">2連携</option>
    <option value="1.3">3連携</option>
    <option value="1.4">4連携</option>
    <option value="1.5">5連携</option>
</select>
    <br>
    <label for="jyousannskill1">乗算:</label>
    <input type="number" class="conditions" id="jyousannskill1" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannskill2" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannskill3" oninput="calculateDamage()">
    <input type="number" class="conditions" id="jyousannskill4" oninput="calculateDamage()">
    <br>
    <label for="kasannskill1">加算:</label>
    <span> 1+ </span>
    <input type="number" class="conditions" id="kasannskill1" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannskill2" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannskill3" oninput="calculateDamage()">
    <input type="number" class="conditions" id="kasannskill4" oninput="calculateDamage()">
    <br>
    <div style="margin-left: 3.4rem;">
      <span> - </span>
      <input type="number" class="conditions" id="gennsannskill1" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannskill2" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannskill3" oninput="calculateDamage()">
      <input type="number" class="conditions" id="gennsannskill4" oninput="calculateDamage()">
    </div>
    <br>
    <hr>
    <span id="labelfordisplaynormaldamage">通常攻撃ダメージ:</span>
    <span id="displaynormaldamage"></span>
    <span id="alertnormaldamage"></span>
    <br>
    <span id="labelfordisplayskilldamage">特技ダメージ:</span>
    <span id="displayskilldamage"></span>
    <br>
    <button type="button" id="tab1" class="tabbutton selected" onclick="switchTab(1)">tab1</button>
    <button type="button" id="tab2" class="tabbutton" onclick="switchTab(2)">tab2</button>
    <button type="button" id="tab3" class="tabbutton" onclick="switchTab(3)">tab3</button>
    <button type="button" id="tab4" class="tabbutton" onclick="switchTab(4)">tab4</button>
    <button type="button" id="tab5" class="tabbutton" onclick="switchTab(5)">tab5</button>
    <button type="button" id="tab6" class="tabbutton" onclick="switchTab(6)">tab6</button>
    <br>
    <button type="button" id="copytab">記憶</button>
    <button type="button" id="pastetab" disabled>貼り付け</button>
    <button type="button" id="resettab" onclick="tabresetbtn()">tabをクリア</button>
    <br>
    <span>・残りHP計算</span>
    <br>
      <select id="calculateHPskillhit" onchange="calculateDamage()">
    <option value="0">なし</option>
    <option value="1" selected>ヒット数1発</option>
    <option value="2">ヒット数2発</option>
    <option value="3">ヒット数3発</option>
    <option value="4">ヒット数4発</option>
    <option value="5">ヒット数5発</option>
    <option value="6">ヒット数6発</option>
  </select>
      <span id="plusofremainingHP">+</span>
      <select id="calculateHPnormalhit" onchange="calculateDamage()">
    <option value="0">追撃なし</option>
    <option value="1">追撃1発</option>
    <option value="2">追撃2発</option>
    <option value="3">追撃3発</option>
  </select>
      <span>=</span>
      <span id="totaldamage"></span>
      <br> 防御側HP
      <input type="number" id="HPdefault" oninput="calculateDamage()">
      <br>
      <span>+種</span>
      <select id="HPseedselect" onchange="calculateDamage()">
    <option value="0">0</option>
    <option value="8">8</option>
    <option value="10">10</option>
    <option value="12">12</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    </select>

      <span>)×LS</span>
      <select id="HPLSselect" onchange="calculateDamage()">
    <option value="1">補正なし(1)</option>
    <option value="1.04" selected>HP0(1.04)</option>
    <option value="1.14">HP10(1.14)</option>
    <option value="1.17">HP13(1.17)</option>
    <option value="1.19">HP15(1.19)</option>
    <option value="1.24">HP20(1.24)</option>
    <option value="1.29">HP25(1.29)</option>
    <option value="1.34">HP30(1.34)</option>
    <option value="1.39">HP35(1.39)</option>
    <option value="1.44">HP40(1.44)</option>
    <option value="1.54">HP50(1.54)</option>
    <option value="1.64">HP60(1.64)</option>
  </select> =
      <span id="HPincludingLS"></span>
      <br>
      <span>残りHP:</span>
      <span id="remainingHP"></span>
    <br><br>

    <details class="bottomdetails" hidden>
      <summary>連打・AI追撃表</summary>
      <table border="1">
        <tr>
          <th></th>
          <th>1発</th>
          <th>2発</th>
          <th>3発</th>
          <th>4発</th>
          <th>5発</th>
          <th>6発</th>
        </tr>
        <tr>
          <td>特技のみ</td>
          <td id="tableonlyskill1"></td>
          <td id="tableonlyskill2"></td>
          <td id="tableonlyskill3"></td>
          <td id="tableonlyskill4"></td>
          <td id="tableonlyskill5"></td>
          <td id="tableonlyskill6"></td>
        </tr>
        <tr>
          <td>+追撃1発</td>
          <td id="tablenormal1skill1"></td>
          <td id="tablenormal1skill2"></td>
          <td id="tablenormal1skill3"></td>
          <td id="tablenormal1skill4"></td>
          <td id="tablenormal1skill5"></td>
          <td id="tablenormal1skill6"></td>
        </tr>
        <tr>
          <td>+追撃2発</td>
          <td id="tablenormal2skill1"></td>
          <td id="tablenormal2skill2"></td>
          <td id="tablenormal2skill3"></td>
          <td id="tablenormal2skill4"></td>
          <td id="tablenormal2skill5"></td>
          <td id="tablenormal2skill6"></td>
        </tr>
        <tr>
          <td>+追撃3発</td>
          <td id="tablenormal3skill1"></td>
          <td id="tablenormal3skill2"></td>
          <td id="tablenormal3skill3"></td>
          <td id="tablenormal3skill4"></td>
          <td id="tablenormal3skill5"></td>
          <td id="tablenormal3skill6"></td>
        </tr>
      </table>
    </details>


    <details class="bottomdetails">
      <summary>tab合計ダメージ</summary>
      <input type="checkbox" id="checktab1" onclick="calculateDamage()" checked>
      <label for="checktab1">tab1:</label>
      <span id="tab1total"></span>
      <br>
      <input type="checkbox" id="checktab2" onclick="calculateDamage()" checked>
      <label for="checktab2">tab2:</label>
      <span id="tab2total"></span>
      <br>
      <input type="checkbox" id="checktab3" onclick="calculateDamage()" checked>
      <label for="checktab3">tab3:</label>
      <span id="tab3total"></span>
      <br>
      <input type="checkbox" id="checktab4" onclick="calculateDamage()" checked>
      <label for="checktab4">tab4:</label>
      <span id="tab4total"></span>
      <br>
      <input type="checkbox" id="checktab5" onclick="calculateDamage()" checked>
      <label for="checktab5">tab5:</label>
      <span id="tab5total"></span>
      <br>
      <input type="checkbox" id="checktab6" onclick="calculateDamage()" >
      <label for="checktab6">tab6:</label>
      <span id="tab6total"></span>
      <br>
      合計ダメージ:<span id="totalalldamage"></span>
      <br>
      防御側HP:<span id="tabHP"></span>
      <br>
      残りHP:<span id="tabremainingHP"></span>


      
      
    </details>


    
    <details class="bottomdetails" open>
      <summary>素早さ乱数計算てすと</summary>
      <p>
        モンスA<input type="number" id="compare1" oninput="compareA()" style="width: 2.7rem;">
        &nbsp;B<input type="number" id="compare2" oninput="compareA()" style="width: 2.7rem;">
        <br>
        正常&nbsp;<span id= normal></span>%
        <br>
        異常&nbsp;<span id= abnormal></span>%
        <br><br>A最小<span id= compare1min></span>&nbsp;最大<span id= compare1max></span>
        <br>B最小<span id= compare2min></span>&nbsp;最大<span id= compare2max></span>
        <br><br>入力値は左右どちらが大きくてもOK
        
        
      </p>
    </details>
    <details class="bottomdetails">
      <summary>管理用</summary>
      <button type="button" id="debugforatt">att登録</button>
      <button type="button" id="debugfordef">def登録</button>
      <button type="button" id="activatespell">int処理</button>
    </details>
    <br>
    <br>
    <br>
    
    <!--
<details>
   <summary>もーどちぇんじ!</summary>
   <div>逆算したい値を選択(未実装)<br>
<input type="radio" name="gyakusann" value="攻撃力"> 攻撃力
<input type="radio" name="gyakusann" value="防御力"> 防御力
<input type="radio" name="gyakusann" value="倍率"> 倍率
</div>
<button type="button" id="debug1">debug1</button>
  </details>
  -->
  </form>

  <script>
    window.addEventListener("DOMContentLoaded", function () {
  Tabassignment();
  intskillprepare();
});

let totaldamage;
let HPincludingLS;

function calculateDamage() {
  const attackdefault = document.getElementById("attackdefault").value;
  const attackseed = document.getElementById("attackseed").value;
  const attackweapon = document.getElementById("attackweapon").value;
  const attackaddkasann = document.getElementById("attackaddkasann").value;
  const attackhyouji = Number(attackdefault) + Number(attackseed) + Number(attackweapon) + Number(attackaddkasann);
  const attackLS = document.getElementById("attackLS").value;
  const attackkeitoubuff = document.getElementById("attackkeitoubuff").value;
  let attackanotherbuff = document.getElementById("attackanotherbuff").value;
  if (!attackanotherbuff) {
    attackanotherbuff = 1;
  }
  let attackaddjyousann = document.getElementById("attackaddjyousann").value;
  if (!attackaddjyousann) {
    attackaddjyousann = 1;
  }
  const attackwithoutbuff = attackhyouji * attackLS * attackaddjyousann;
  const attackincludingbuff = attackwithoutbuff * attackkeitoubuff * attackanotherbuff;
  document.getElementById("displayattackhyouji").innerHTML = Math.ceil(attackhyouji);
  document.getElementById("displayattackincludingbuff").innerHTML = Math.ceil(attackincludingbuff);
  const defensedefault = document.getElementById("defensedefault").value;
  const defenseseed = document.getElementById("defenseseed").value;
  const defenseweapon = document.getElementById("defenseweapon").value;
  const defenseaddkasann = document.getElementById("defenseaddkasann").value;
  const defensehyouji = Number(defensedefault) + Number(defenseseed) + Number(defenseweapon) + Number(defenseaddkasann);
  const defenseLS = document.getElementById("defenseLS").value;
  const defensekeitoubuff = document.getElementById("defensekeitoubuff").value;
  const sukarabuff = document.getElementById("sukarabuff").value;
  let defenseaddjyousann = document.getElementById("defenseaddjyousann").value;
  if (!defenseaddjyousann) {
    defenseaddjyousann = 1;
  }
  const defensewithoutbuff = defensehyouji * defenseLS * defenseaddjyousann;
  const defenseincludingbuff = defensewithoutbuff * defensekeitoubuff * sukarabuff;
  document.getElementById("displaydefensehyouji").innerHTML = Math.ceil(defensehyouji);
  document.getElementById("displaydefenseincludingbuff").innerHTML = Math.ceil(defenseincludingbuff);

  const baiki = document.getElementById("baiki").value;
  const damebari = document.getElementById("damebari").value;

  let jyousannnormal1 = document.getElementById("jyousannnormal1").value;
  if (!jyousannnormal1) {
    jyousannnormal1 = 1;
  }
  let jyousannnormal2 = document.getElementById("jyousannnormal2").value;
  if (!jyousannnormal2) {
    jyousannnormal2 = 1;
  }
  let jyousannnormal3 = document.getElementById("jyousannnormal3").value;
  if (!jyousannnormal3) {
    jyousannnormal3 = 1;
  }
  let jyousannnormal4 = document.getElementById("jyousannnormal4").value;
  if (!jyousannnormal4) {
    jyousannnormal4 = 1;
  }
  const kasannnormal1 = document.getElementById("kasannnormal1").value;
  const kasannnormal2 = document.getElementById("kasannnormal2").value;
  const kasannnormal3 = document.getElementById("kasannnormal3").value;
  const kasannnormal4 = document.getElementById("kasannnormal4").value;
  const gennsannnormal1 = document.getElementById("gennsannnormal1").value;
  const gennsannnormal2 = document.getElementById("gennsannnormal2").value;
  const gennsannnormal3 = document.getElementById("gennsannnormal3").value;
  const gennsannnormal4 = document.getElementById("gennsannnormal4").value;



  const bairitsu = document.getElementById("bairitsu").value;
  const taisei = document.getElementById("taisei").value;
  const rennkei = document.getElementById("rennkei").value;
  let jyousannskill1 = document.getElementById("jyousannskill1").value;
  if (!jyousannskill1) {
    jyousannskill1 = 1;
  }
  let jyousannskill2 = document.getElementById("jyousannskill2").value;
  if (!jyousannskill2) {
    jyousannskill2 = 1;
  }
  let jyousannskill3 = document.getElementById("jyousannskill3").value;
  if (!jyousannskill3) {
    jyousannskill3 = 1;
  }
  let jyousannskill4 = document.getElementById("jyousannskill4").value;
  if (!jyousannskill4) {
    jyousannskill4 = 1;
  }
  const kasannskill1 = document.getElementById("kasannskill1").value;
  const kasannskill2 = document.getElementById("kasannskill2").value;
  const kasannskill3 = document.getElementById("kasannskill3").value;
  const kasannskill4 = document.getElementById("kasannskill4").value;
  const gennsannskill1 = document.getElementById("gennsannskill1").value;
  const gennsannskill2 = document.getElementById("gennsannskill2").value;
  const gennsannskill3 = document.getElementById("gennsannskill3").value;
  const gennsannskill4 = document.getElementById("gennsannskill4").value;



  //attizon
  const normaldamagebeforekagennsann = (attackincludingbuff / 2 - defenseincludingbuff / 4) * baiki * damebari * jyousannnormal1 * jyousannnormal2 * jyousannnormal3 * jyousannnormal4;
  const normaltotalkagennsann = (1 + Number(kasannnormal1) + Number(kasannnormal2) + Number(kasannnormal3) + Number(kasannnormal4) - Number(gennsannnormal1) - Number(gennsannnormal2) - Number(gennsannnormal3) - Number(gennsannnormal4));
  const skilltotalkagennsann = (1 + Number(kasannskill1) + Number(kasannskill2) + Number(kasannskill3) + Number(kasannskill4) - Number(gennsannskill1) - Number(gennsannskill2) - Number(gennsannskill3) - Number(gennsannskill4));
  const normaldamage = normaldamagebeforekagennsann * normaltotalkagennsann;
  document.getElementById("displaynormaldamage").innerHTML = Math.ceil(normaldamage);
  if (defenseincludingbuff >= attackincludingbuff * 2) {
    document.getElementById("alertnormaldamage").innerHTML = "(ミスか1桁ダメ)";
  } else if (defenseincludingbuff > attackincludingbuff * 1.75) {
    document.getElementById("alertnormaldamage").innerHTML = "(ダメージ非常に不安定)";
  } else {
    document.getElementById("alertnormaldamage").innerHTML = "";
  }
  const attskilldamage = (normaldamagebeforekagennsann * bairitsu * taisei * rennkei * jyousannskill1 * jyousannskill2 * jyousannskill3 * jyousannskill4 * (normaltotalkagennsann + skilltotalkagennsann - 1));

  //intizon
  const intdefault = document.getElementById("intdefault").value;
  const intseed = document.getElementById("intseed").value;
  const intweapon = document.getElementById("intweapon").value;
  const inthyouji = Number(intdefault) + Number(intseed) + Number(intweapon);
  const intbuff = document.getElementById("intbuff").value;
  const intincludingbuff = inthyouji * intbuff;
  const intdifferencebonus = document.getElementById("intdifferencebonus").value;
  const intskillplus = document.getElementById("intskillplus").value;
  const minint = document.getElementById("minint").value;
  const minintdamage = document.getElementById("minintdamage").value;
  const maxint = document.getElementById("maxint").value;
  const maxintdamage = document.getElementById("maxintdamage").value;
  let spellkisodamage;
  if (!intdefault) {
    spellkisodamage = 0;
  } else {
    if (intincludingbuff <= minint) {
      spellkisodamage = minintdamage;
    } else if (intincludingbuff < maxint) {
      spellkisodamage = (intincludingbuff - minint) * (maxintdamage - minintdamage) / (maxint - minint) + Number(minintdamage);
    } else {
      spellkisodamage = maxintdamage;
    }
  }
  //未記入の場合を後から補足的に上書き
  if (!minintdamage && intincludingbuff < maxint) {
    spellkisodamage = 0;
  }
  if (!maxintdamage && intincludingbuff > minint) {
    spellkisodamage = 0;
  }


  const spellskilldamage = (spellkisodamage * intdifferencebonus * intskillplus * damebari * jyousannnormal1 * jyousannnormal2 * jyousannnormal3 * jyousannnormal4 * taisei * rennkei * jyousannskill1 * jyousannskill2 * jyousannskill3 * jyousannskill4 * (normaltotalkagennsann + skilltotalkagennsann - 1));
  //koteiizon
  const koteikisodamage = document.getElementById("koteidamage").value;
  const koteiskilldamage = (koteikisodamage * damebari * jyousannnormal1 * jyousannnormal2 * jyousannnormal3 * jyousannnormal4 * taisei * rennkei * jyousannskill1 * jyousannskill2 * jyousannskill3 * jyousannskill4 * (normaltotalkagennsann + skilltotalkagennsann - 1));

  //display,izonbunnki
  const selectedizon = askizon();
  let resultdamage;
  if (selectedizon == "attizon") {
    resultdamage = attskilldamage;

  } else if (selectedizon == "intizon") {
    resultdamage = spellskilldamage;

  } else {
    resultdamage = koteiskilldamage;

  }

  document.getElementById("displayskilldamage").innerHTML = Math.ceil(resultdamage);


  //table処理
  document.getElementById("tableonlyskill1").innerHTML = Math.ceil(attskilldamage * 1);
  document.getElementById("tableonlyskill2").innerHTML = Math.ceil(attskilldamage * 2);
  document.getElementById("tableonlyskill3").innerHTML = Math.ceil(attskilldamage * 3);
  document.getElementById("tableonlyskill4").innerHTML = Math.ceil(attskilldamage * 4);
  document.getElementById("tableonlyskill5").innerHTML = Math.ceil(attskilldamage * 5);
  document.getElementById("tableonlyskill6").innerHTML = Math.ceil(attskilldamage * 6);
  //追撃1発
  document.getElementById("tablenormal1skill1").innerHTML = Math.ceil(normaldamage + attskilldamage * 1);
  document.getElementById("tablenormal1skill2").innerHTML = Math.ceil(normaldamage + attskilldamage * 2);
  document.getElementById("tablenormal1skill3").innerHTML = Math.ceil(normaldamage + attskilldamage * 3);
  document.getElementById("tablenormal1skill4").innerHTML = Math.ceil(normaldamage + attskilldamage * 4);
  document.getElementById("tablenormal1skill5").innerHTML = Math.ceil(normaldamage + attskilldamage * 5);
  document.getElementById("tablenormal1skill6").innerHTML = Math.ceil(normaldamage + attskilldamage * 6);
  //追撃2発
  document.getElementById("tablenormal2skill1").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 1);
  document.getElementById("tablenormal2skill2").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 2);
  document.getElementById("tablenormal2skill3").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 3);
  document.getElementById("tablenormal2skill4").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 4);
  document.getElementById("tablenormal2skill5").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 5);
  document.getElementById("tablenormal2skill6").innerHTML = Math.ceil(normaldamage * 2 + attskilldamage * 6);
  //追撃3発
  document.getElementById("tablenormal3skill1").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 1);
  document.getElementById("tablenormal3skill2").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 2);
  document.getElementById("tablenormal3skill3").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 3);
  document.getElementById("tablenormal3skill4").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 4);
  document.getElementById("tablenormal3skill5").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 5);
  document.getElementById("tablenormal3skill6").innerHTML = Math.ceil(normaldamage * 3 + attskilldamage * 6);



  function calculateremainingHP() {
    const HPdefault = document.getElementById("HPdefault").value;
    const HPseedselect = document.getElementById("HPseedselect").value;
    const HPLSselect = document.getElementById("HPLSselect").value;


    HPincludingLS = Math.ceil((Number(HPdefault) + Number(HPseedselect)) * HPLSselect);
    document.getElementById("HPincludingLS").innerHTML = HPincludingLS;

    const calculateHPskillhit = document.getElementById("calculateHPskillhit").value;
    const calculateHPnormalhit = document.getElementById("calculateHPnormalhit").value;
    if (selectedizon == "attizon") {
      totaldamage = Math.ceil(Number(calculateHPskillhit * attskilldamage) + Number(calculateHPnormalhit * normaldamage));
    } else {
      totaldamage = Math.ceil(calculateHPskillhit * resultdamage);
    }
    document.getElementById("totaldamage").innerHTML = totaldamage;
    const remainingHP = HPincludingLS - totaldamage;
    document.getElementById("remainingHP").innerHTML = remainingHP;

  }
  calculateremainingHP();
  sumtabdamage();
}
//finish calc

//tabtotal
function sumtabdamage() {
  //まず保存
  tabValues[currentTab].totaldamage = totaldamage;
  //それぞれのtabtotalを用意
  function zerotonull(tabtotal) {
    if (tabtotal <= 0) {
      return null;
    }
    return tabtotal;
  }

  let tab1total = zerotonull(tabValues[1].totaldamage);
  let tab2total = zerotonull(tabValues[2].totaldamage);
  let tab3total = zerotonull(tabValues[3].totaldamage);
  let tab4total = zerotonull(tabValues[4].totaldamage);
  let tab5total = zerotonull(tabValues[5].totaldamage);
  let tab6total = zerotonull(tabValues[6].totaldamage);
  
  document.getElementById("tab1total").innerHTML = tab1total;
  document.getElementById("tab2total").innerHTML = tab2total;
  document.getElementById("tab3total").innerHTML = tab3total;
  document.getElementById("tab4total").innerHTML = tab4total;
  document.getElementById("tab5total").innerHTML = tab5total;
  document.getElementById("tab6total").innerHTML = tab6total;
  //currenttabのtotalにtotaldamageを代入上書き
  //check取得、checkのみで合計damageにするように
  let totalalldamage = 0;
  const checktab1 = document.getElementById('checktab1');
  const checktab2 = document.getElementById('checktab2');
  const checktab3 = document.getElementById('checktab3');
  const checktab4 = document.getElementById('checktab4');
  const checktab5 = document.getElementById('checktab5');
  const checktab6 = document.getElementById('checktab6');
  if(checktab1.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab1total);
    //hyoujihighlight
  }
  if(checktab2.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab2total);
    //hyoujihighlight
  }
  if(checktab3.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab3total);
    //hyoujihighlight
  }
  if(checktab4.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab4total);
    //hyoujihighlight
  }
  if(checktab5.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab5total);
    //hyoujihighlight
  }
  if(checktab6.checked) { 
    totalalldamage = Number(totalalldamage) + Number(tab6total);
    //hyoujihighlight
  }
  document.getElementById("totalalldamage").innerHTML = totalalldamage;
  document.getElementById("tabHP").innerHTML = HPincludingLS;
  //remainingHP-totalalltltaldamage
  let tabremainingHP = HPincludingLS - totalalldamage;
  //を外で定義してここで実行、またtabのcheckがいじられた時にもfuntionで動かす
  document.getElementById("tabremainingHP").innerHTML = tabremainingHP;
}



function calculateint() {
  const intdefault = document.getElementById("intdefault").value;
  const intseed = document.getElementById("intseed").value;
  const intweapon = document.getElementById("intweapon").value;
  const inthyouji = Number(intdefault) + Number(intseed) + Number(intweapon);
  const intbuff = document.getElementById("intbuff").value;
  const intincludingbuff = inthyouji * intbuff;
  const enemyintdefault = document.getElementById("enemyintdefault").value;
  const enemyintseed = document.getElementById("enemyintseed").value;
  const enemyintweapon = document.getElementById("enemyintweapon").value;
  const enemyinthyouji = Number(enemyintdefault) + Number(enemyintseed) + Number(enemyintweapon);
  const enemyintbuff = document.getElementById("enemyintbuff").value;
  const enemyintincludingbuff = enemyinthyouji * enemyintbuff;
  const intdifference = intincludingbuff - enemyintincludingbuff;
  document.getElementById("displayintincludingbuff").innerHTML = Math.ceil(intincludingbuff);
  const displayintdifference = Math.floor(intdifference);
  
  if (displayintdifference >= 150) {
    expectedintdifferencebonus = 1.25;
  } else if (displayintdifference >= 140) {
    expectedintdifferencebonus = 1.24;
  } else if (displayintdifference >= 130) {
    expectedintdifferencebonus = 1.23;
  } else if (displayintdifference >= 120) {
    expectedintdifferencebonus = 1.22;
  } else if (displayintdifference >= 110) {
    expectedintdifferencebonus = 1.21;
  } else if (displayintdifference >= 100) {
    expectedintdifferencebonus = 1.2;
  } else if (displayintdifference >= 90) {
    expectedintdifferencebonus = 1.19;
  } else if (displayintdifference >= 80) {
    expectedintdifferencebonus = 1.18;
  } else if (displayintdifference >= 70) {
    expectedintdifferencebonus = 1.17;
  } else if (displayintdifference >= 60) {
    expectedintdifferencebonus = 1.16;
  } else if (displayintdifference >= 50) {
    expectedintdifferencebonus = 1.15;
  } else if (displayintdifference >= 40) {
    expectedintdifferencebonus = 1.14;
  } else if (displayintdifference >= 30) {
    expectedintdifferencebonus = 1.13;
  } else if (displayintdifference >= 20) {
    expectedintdifferencebonus = 1.12;
  } else if (displayintdifference >= 10) {
    expectedintdifferencebonus = 1.11;
  } else if (displayintdifference >= 1) {
    expectedintdifferencebonus = 1.1;
  } else {
    expectedintdifferencebonus = 1;
  }
  document.getElementById("intdifferencebonus").value = expectedintdifferencebonus;
  calculateDamage();
//賢さ系いじるとonchangeでint起動、賢さ差上書き、calcへ.特技+は賢さ差手動設定時に上書き防止のため、calcのみ起動.
}

function intskillselecter() {
  const intskillselect = document.getElementById("intskillselect").value;
  //以下reset処理
  document.getElementById("intdefault").value = "";
  document.getElementById("intseed").value = 0;
  document.getElementById("intweapon").value = 0;
  document.getElementById("intbuff").value = 1;
  document.getElementById("minint").value = 200;
  document.getElementById("minintdamage").value = "";
  document.getElementById("maxint").value = 600;
  document.getElementById("maxintdamage").value = "";
  document.getElementById("intskillplus").value = 1.15;
  //デフォルトで1.15化、1.09時に表の変化に連動して1.15化処理は行わない
  if (intskillselect == "reiji4") {
    document.getElementById("minint").value = 100;
    document.getElementById("minintdamage").value = 150;
    document.getElementById("maxint").value = 600;
    document.getElementById("maxintdamage").value = 330;
    document.getElementById("intskillplus").value = 1.09;
    document.getElementById("intdefault").value = 538;
    document.getElementById("intweapon").value = 116;
  }
  if (intskillselect == "itehyado4") {
    document.getElementById("minint").value = 200;
    document.getElementById("minintdamage").value = 200;
    document.getElementById("maxint").value = 400;
    document.getElementById("maxintdamage").value = 316;
    document.getElementById("intdefault").value = 377;
    document.getElementById("intseed").value = 48;
  }
  if (intskillselect == "sennjigo4") {
    document.getElementById("minint").value = 100;
    document.getElementById("minintdamage").value = 717;
    document.getElementById("maxint").value = 800;
    document.getElementById("maxintdamage").value = 1305;
    document.getElementById("intdefault").value = 377;
    document.getElementById("intseed").value = 48;
  }
  if (intskillselect == "zetsuhyo44") {
    document.getElementById("minint").value = 100;
    document.getElementById("minintdamage").value = 735;
    document.getElementById("maxint").value = 800;
    document.getElementById("maxintdamage").value = 1302;
    document.getElementById("intdefault").value = 501;
    document.getElementById("intseed").value = 48;
  }
  if (intskillselect == "katasuto") {
    document.getElementById("minint").value = 200;
    document.getElementById("minintdamage").value = 162;
    document.getElementById("maxint").value = 1000;
    document.getElementById("maxintdamage").value = 290;
    document.getElementById("intdefault").value = 535;
    document.getElementById("intseed").value = 48;
  }
  if (intskillselect == "mata") {
    document.getElementById("minint").value = 100;
    document.getElementById("minintdamage").value = 50;
    document.getElementById("maxint").value = 600;
    document.getElementById("maxintdamage").value = 160;
  }
  //耐性入力は要検討
  calculateint();
}

//攻撃側選択

function summonattacker(){
  const summonattackerselect = document.getElementById("summonattackerselect").value;
  //攻撃側選択、統合・引数化
  function setattacker(setattackdefault, setattackseed, setattackweapon, setattackLS, setattackkeitoubuff, setattackanotherbuff, setattackaddkasann, setattackaddjyousann, setbaiki, setjyousannnormal1, setjyousannnormal2, setkasannnormal1, setkasannnormal2, setgennsannnormal1, setgennsannnormal2, setbairitsu, setjyousannskill1, setjyousannskill2, setkasannskill1, setkasannskill2, setgennsannskill1, setgennsannskill2, settaisei) {
    document.getElementById("attackdefault").value = setattackdefault;
    document.getElementById("attackseed").value = setattackseed;
    document.getElementById("attackweapon").value = setattackweapon;
    document.getElementById("attackLS").value = setattackLS;
    document.getElementById("attackkeitoubuff").value = setattackkeitoubuff;
    document.getElementById("attackanotherbuff").value = setattackanotherbuff;
    document.getElementById("attackaddkasann").value = setattackaddkasann;
    document.getElementById("attackaddjyousann").value = setattackaddjyousann;

    document.getElementById("baiki").value = setbaiki;
    document.getElementById("jyousannnormal1").value = setjyousannnormal1;
    document.getElementById("jyousannnormal2").value = setjyousannnormal2;
    document.getElementById("kasannnormal1").value = setkasannnormal1;
    document.getElementById("kasannnormal2").value = setkasannnormal2;
    document.getElementById("gennsannnormal1").value = setgennsannnormal1;
    document.getElementById("gennsannnormal2").value = setgennsannnormal2;
    document.getElementById("bairitsu").value = setbairitsu;
    document.getElementById("jyousannskill1").value = setjyousannskill1;
    document.getElementById("jyousannskill2").value = setjyousannskill2;
    document.getElementById("kasannskill1").value = setkasannskill1;
    document.getElementById("kasannskill2").value = setkasannskill2;
    document.getElementById("gennsannskill1").value = setgennsannskill1;
    document.getElementById("gennsannskill2").value = setgennsannskill2;
    document.getElementById("taisei").value = settaisei;
  }

  //attacker data list
  if (summonattackerselect == "debug") {
    setattacker(500, 2, 30, 1.18, 1.5, "", 30, 1.5, 1.4, 1.1, 1.2, 0.2, 0.3, 0.1, 0.2, 2.11, 2, 1.5, 0.1, 0.2, "", 0.2);
  }
  if (summonattackerselect == "world"){
    setattacker(659,24,22,1.05,1,"","","",1,"","","","","","",0.91,"","","","","","",1.5);
  }
  if (summonattackerselect == "neru44"){
    setattacker(666,24,22,1.05,1,"","","",1,"","","","","","","","","","","","","",1);
  }
  if (summonattackerselect == "dream"){
    setattacker(742,24,"",1.05,1,"","","",1,1.1,"","","","","",1.21,"","","0.15","","","",1);
  }
  if (summonattackerselect == "ifshiba"){
    setattacker(547,24,45,1.05,1,"","","",1,"","","","","","",2.15,"","",0.05,"","","",1.5);
  }
  if (summonattackerselect == "dark"){
    setattacker(634,24,"",1.1,1,"","","",1,"","",0.2,"","","",2,3,"","","","","",1.5);
  }
  if (summonattackerselect == "esta"){
    setattacker(653,24,"",1,1,"","","",1,"","","","","","",9.2,"","","","","","",1);
  }
  if (summonattackerselect == "estasword"){
    setattacker(653,60,65,1,1,1.08,"","",1,"","","","","","",9.2,"","",0.3,"","","",1);
  }
  if (summonattackerselect == "dyuran"){
    setattacker(689,24,"",1,1,"","","",1,"","","","","","",1.08,"","","","","","",1);
  }
  if (summonattackerselect == "hero"){
    setattacker(649,48,"",1.2,1.4,1.2,"","",1,"","","","","","",0.82,"","","","","","",1);
  }
  if (summonattackerselect == "girl"){
    setattacker(615,48,"",1.2,1.4,1.2,"","",1,"","","","","","",0.82,"","","","","","",1.5);
  }
  
  calculateDamage();
}



//防御側選択

function summondefender(){
  const summondefenderselect = document.getElementById("summondefenderselect").value;

  //統合・引数化
  function setdefender(setdefensedefault, setdefenseseed, setdefenseweapon, setdefenseLS, setdefensekeitoubuff, setsukarabuff, setdefenseaddkasann, setdefenseaddjyousann, setdamebari, setjyousannnormal3, setjyousannnormal4, setkasannnormal3, setkasannnormal4, setgennsannnormal3, setgennsannnormal4, setjyousannskill3, setjyousannskill4, setkasannskill3, setkasannskill4, setgennsannskill3, setgennsannskill4, setHPdefault, setHPseedselect, setHPLSselect) {

    document.getElementById("defensedefault").value = setdefensedefault;
    document.getElementById("defenseseed").value = setdefenseseed;
    document.getElementById("defenseweapon").value = setdefenseweapon;
    document.getElementById("defenseLS").value = setdefenseLS;
    document.getElementById("defensekeitoubuff").value = setdefensekeitoubuff;
    document.getElementById("sukarabuff").value = setsukarabuff;
    document.getElementById("defenseaddkasann").value = setdefenseaddkasann;
    document.getElementById("defenseaddjyousann").value = setdefenseaddjyousann;
    document.getElementById("damebari").value = setdamebari;
    document.getElementById("jyousannnormal3").value = setjyousannnormal3;
    document.getElementById("jyousannnormal4").value = setjyousannnormal4;
    document.getElementById("kasannnormal3").value = setkasannnormal3;
    document.getElementById("kasannnormal4").value = setkasannnormal4;
    document.getElementById("gennsannnormal3").value = setgennsannnormal3;
    document.getElementById("gennsannnormal4").value = setgennsannnormal4;
    document.getElementById("jyousannskill3").value = setjyousannskill3;
    document.getElementById("jyousannskill4").value = setjyousannskill4;
    document.getElementById("kasannskill3").value = setkasannskill3;
    document.getElementById("kasannskill4").value = setkasannskill4;
    document.getElementById("gennsannskill3").value = setgennsannskill3;
    document.getElementById("gennsannskill4").value = setgennsannskill4;
    document.getElementById("HPdefault").value = setHPdefault;
    document.getElementById("HPseedselect").value = setHPseedselect;
    document.getElementById("HPLSselect").value = setHPLSselect;
  }


  //defender data list
  if (summondefenderselect == "debug") {
    setdefender(567, 48, 15, 1.18, 2, 1.4, 1.5, 0.1, 0.5, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, "", 0.9, 1, 1.1, "", 0, 1.04);
  }
  //S13
  if (summondefenderselect == "world"){
    setdefender(470,0,0,1,1,1,"","",1,"","","","","","","","","","","","",806,24,1.17);
  }
  if (summondefenderselect == "neru44"){
    setdefender(573,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",921,24,1.17);
  }
  if (summondefenderselect == "erugi44"){
    setdefender(619,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",897,24,1.17);
  }
  if (summondefenderselect == "sosiden44"){
    setdefender(495,0,0,1,1,1,"","",1,"","","","","","","","","","","","",877,24,1.17);
  }
  if (summondefenderselect == "S13tyoryu"){
    setdefender(658,92,0,1,1,1,"","",0.5,"","","","","","","","","","","","",935,16,1.17);
  }
  if (summondefenderselect == "vearn44"){
    setdefender(538,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",924,16,1.17);
  }
  if (summondefenderselect == "S13esta"){
    setdefender(609,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",862,24,1.17);
  }
  if (summondefenderselect == "S13dream"){
    setdefender(525,0,0,1,1,1,"","",1,"","","","","","","","","","","","",909,24,1.17);
  }
  if (summondefenderselect == "S13rusia44"){
    setdefender(460,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",809,24,1.17);
  }
  if (summondefenderselect == "S13kandata"){
    setdefender(507,0,0,1,1,1.4,"","",1,"","","","","","","","","","","","",839,24,1.17);
  }
  if (summondefenderselect == "S13ni-su"){
    setdefender(485,112,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",837,24,1.17);
  }
  if (summondefenderselect == "S13bogu"){
    setdefender(477,112,0,1,1,1,"","",1,"","","","","","","","","","","","",591,24,1.17);
  }
  if (summondefenderselect == "S13apple"){
    setdefender(220,0,0,1,1,1,"","",1,"","","","","","","","","","","","",630,24,1.17);
  }
  //S15
  if (summondefenderselect == "dark"){
    setdefender(480,0,0,0.75,1,1,"","",0.6,"","","","","","","","","","","","",774,24,1.04);
  }
  //H35
  if (summondefenderselect == "rapu4"){
    setdefender(513,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",1075,24,1.39);
  }
  if (summondefenderselect == "H35dagu44"){
    setdefender(644,80,0,1,1,1.2,"","",1,"","","","","","","","","","","","",874,18,1.39);
  }
  if (summondefenderselect == "H35sosiden44"){
    setdefender(495,0,0,1,1,1,"","",1,"","","","","","","","","","","","",877,24,1.39);
  }
  if (summondefenderselect == "H35esta"){
    setdefender(609,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",862,24,1.39);
  }
  if (summondefenderselect == "H35ni-su"){
    setdefender(485,112,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",837,24,1.39);
  }
  if (summondefenderselect == "H35apple"){
    setdefender(220,0,0,1,1,1,"","",1,"","","","","","","","","","","","",630,24,1.39);
  }
  //H30
  if (summondefenderselect == "ketosu"){
    setdefender(637,112,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",961,24,1.34);
  }
  if (summondefenderselect == "tyoryu"){
    setdefender(658,92,0,1,1,1,"","",0.5,"","","","","","","","","","","","",935,16,1.34);
  }
  if (summondefenderselect == "munbabon"){
    setdefender(550,112,0,1,1,1,"","",0.66,"","","","","","","","","","","","",848,24,1.34);
  }
  if (summondefenderselect == "H30ni-su"){
    setdefender(485,112,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",837,24,1.34);
  }
  //H40
  if (summondefenderselect == "omudo4"){
    setdefender(663,112,0,1,1,1,"","",0.5,"","","","","","","","","","","","",937,24,1.44);
  }
  if (summondefenderselect == "omudo44"){
    setdefender(684,112,0,1,1,1,"","",0.5,"","","","","","","","","","","","",965,24,1.44);
  }
  if (summondefenderselect == "H40rapu4"){
    setdefender(513,92,0,1,1,1,"","",0.5,"","","","","","","","","","","","",1075,26,1.44);
  }
  if (summondefenderselect == "H40orugo44"){
    setdefender(507,48,0,1,1,1,"","",0.5,"","","","","","","","","","","","",1040,27,1.44);
  }
  if (summondefenderselect == "H40esta"){
    setdefender(609,48,0,1,1,1,"","",0.5,"","","","","","","","","","","","",862,27,1.44);
  }
  if (summondefenderselect == "nadoraga4"){
    setdefender(601,104,0,1,1,1,"","",1,"0.333","","","","","","","","","","","",880,22,1.44);
  }
  if (summondefenderselect == "H40dagu44"){
    setdefender(644,80,0,1,1,1.2,"","",1,"","","","","","","","","","","","",874,18,1.44);
  }
  if (summondefenderselect == "god"){
    setdefender(522,92,0,1,1,1,"","",0.66,"","","","","","","","","","","","",763,26,1.44);
  }
  if (summondefenderselect == "yoiyami"){
    setdefender(589,112,0,1,1,1,"","",1,"","","","","","","","","","","","",864,24,1.44);
  }
  if (summondefenderselect == "ni-su"){
    setdefender(485,112,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",837,24,1.44);
  }
  //rubisu
  if (summondefenderselect == "rubisu"){
    setdefender(484,0,0,1,1,1,"","",0.7,"","","","","","","","","","","","",840,0,1.54);
  }
  if (summondefenderselect == "logos"){
    setdefender(383,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",823,16,1.54);
  }
  if (summondefenderselect == "shinryu"){
    setdefender(482,0,0,1,1,1,"","",0.7,"","","","","","","","","","","","",842,16,1.54);
  }
  if (summondefenderselect == "golem"){
    setdefender(677,92,0,1,1,1.4,"","",0.7,"","","","","","","","","","","","",1130,16,1.54);
  }
  //maou
  if (summondefenderselect == "esta"){
    setdefender(609,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",862,24,1.04);
  }
  if (summondefenderselect == "dream"){
    setdefender(525,0,0,1,1,1,"","",1,"","","","","","","","","","","","",909,24,1.04);
  }
  //slime
  if (summondefenderselect == "hero"){
    setdefender(649,48,0,1.2,1.4,1.2,"","",1,0.75,"","","","","","","","","","","",721,18,1.24);
  }
  if (summondefenderselect == "girl"){
    setdefender(615,48,0,1.2,1.4,1.2,"","",1,0.75,"","","","","","","","","","","",758,18,1.24);
  }
  //dragon
  if (summondefenderselect == "masdora44"){
    setdefender(521,0,15,1,1,1,"","",1,"","","","","","","","","","","","",886,24,1.19);
  }
  if (summondefenderselect == "sinri44"){
    setdefender(352,0,0,1,1,1,"","",1,"","","","","","","","","","","","",796,16,1.19);
  }
  if (summondefenderselect == "rusia44"){
    setdefender(460,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",809,24,1.19);
  }
  if (summondefenderselect == "voruka44"){
    setdefender(532,112,0,1,1,1,"","",1,0.75,"","","",0.3,"","","","","","","",1025,24,1.19);
  }
  //material
  if (summondefenderselect == "matter44"){
    setdefender(516,0,15,1,1,1,"","",0.8,"","",0.2,"","","","","","","","","",913,24,1.64);
  }
  if (summondefenderselect == "weapon44"){
    setdefender(431,0,0,1,1,1,"","",0.8,"","",0.2,"","","","","","","","","",797,24,1.64);
  }
  if (summondefenderselect == "him4"){
    setdefender(573,0,0,1,1,1,"","",0.8,"","",0.2,"","","","","","","","","",650,24,1.64);
  }
  if (summondefenderselect == "box44"){
    setdefender(621,0,0,1,1,1,"","",0.8,"","",0.2,"","","","","","","","","",744,24,1.64);
  }
  if (summondefenderselect == "golem4"){
    setdefender(677,80,0,1,1,1.4,"","",0.8,"","",0.2,"","","","","","","","","",1130,18,1.64);
  }
  if (summondefenderselect == "siro4"){
    setdefender(620,48,0,1,1.3,1,"","",0.8,"","",0.2,"","","","","","","","","",864,18,1.64);
  }
  //demon
  if (summondefenderselect == "tanisu44"){
    setdefender(495,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",772,16,1.34);
  }
  if (summondefenderselect == "logos4"){
    setdefender(383,0,0,1,1,1,"","",0.5,"","","","","","","","","","","","",823,16,1.34);
  }
  if (summondefenderselect == "dyuran4"){
    setdefender(502,0,0,1,1,1,"","",1,"","","","","","","","","","","","",845,24,1.34);
  }
  if (summondefenderselect == "jaha4"){
    setdefender(588,92,0,1,1,1,"","",0.66,"","","","","","","","","","","","",810,16,1.34);
  }
  if (summondefenderselect == "zuishosai"){
    setdefender(613,0,0,1,1,1,"","",1,0.75,"","","","","","","","","","","",844,29,1.34);
  }
  calculateDamage();
}

/*
      //debugbtnatt出力用 攻撃側データリスト作成用
      const debugbtnatt = document.getElementById("debugbtnatt");
debugbtnatt.addEventListener("click", function() {
      
      //const selectedseed = document.getElementById("attackseed").selectedIndex;
      let getatt = 
      "if (summonattackerselect == \"hoge\"){\n"+
      "setattacker("+
      document.getElementById("attackdefault").value+","+
      document.getElementById("attackseed").value+","+
      document.getElementById("attackweapon").value+","+
      document.getElementById("attackLS").value+","+
      document.getElementById("attackkeitoubuff").value+","+
      document.getElementById("attackanotherbuff").value+","+
      document.getElementById("attackaddkasann").value+","+
      document.getElementById("attackaddjyousann").value+","+
      document.getElementById("baiki").value+","+
      document.getElementById("jyousannnormal1").value+","+
      document.getElementById("jyousannnormal2").value+","+
      document.getElementById("kasannnormal1").value+","+
      document.getElementById("kasannnormal2").value+","+
      document.getElementById("gennsannnormal1").value+","+
      document.getElementById("gennsannnormal2").value+","+
      document.getElementById("bairitsu").value+","+
      document.getElementById("jyousannskill1").value+","+
      document.getElementById("jyousannskill2").value+","+
      document.getElementById("kasannskill1").value+","+
      document.getElementById("kasannskill2").value+","+
      document.getElementById("gennsannskill1").value+","+
      document.getElementById("gennsannskill2").value+","+
      document.getElementById("taisei").value
      +");\n}"
      ;
      
      getatt = getatt.replace(/,,/g, "\,\"\"\,");
      getatt = getatt.replace(/,,/g, "\,\"\"\,");
      //2回必要
      getatt = getatt.replace("(,", "\(\"\"\,");
      getatt = getatt.replace(",)", "\,\"\")");
      console.log(getatt);
      //copy
      navigator.clipboard.writeText(getatt);
      }, false);
      
      
      //debugbtn防御側出力用 防御側データリスト作成用
      const debugbtndef = document.getElementById("debugbtndef");
debugbtndef.addEventListener("click", function() {
      
      let getdef = 
      "if (summondefenderselect == \"hoge\"){\n"+
      "setdefender("+
      document.getElementById("defensedefault").value+","+
      document.getElementById("defenseseed").value+","+
      document.getElementById("defenseweapon").value+","+
      document.getElementById("defenseLS").value+","+
      document.getElementById("defensekeitoubuff").value+","+
      document.getElementById("sukarabuff").value+","+
      document.getElementById("defenseaddkasann").value+","+
      document.getElementById("defenseaddjyousann").value+","+
      document.getElementById("damebari").value+","+
      document.getElementById("jyousannnormal3").value+","+
      document.getElementById("jyousannnormal4").value+","+
      document.getElementById("kasannnormal3").value+","+
      document.getElementById("kasannnormal4").value+","+
      document.getElementById("gennsannnormal3").value+","+
      document.getElementById("gennsannnormal4").value+","+
      document.getElementById("jyousannskill3").value+","+
      document.getElementById("jyousannskill4").value+","+
      document.getElementById("kasannskill3").value+","+
      document.getElementById("kasannskill4").value+","+
      document.getElementById("gennsannskill3").value+","+
      document.getElementById("gennsannskill4").value+","+
      document.getElementById("HPdefault").value+","+
      document.getElementById("HPseedselect").value+","+
      document.getElementById("HPLSselect").value
      +");\n}"
      ;
      
      getdef = getdef.replace(/,,/g, "\,\"\"\,");
      getdef = getdef.replace(/,,/g, "\,\"\"\,");
      getdef = getdef.replace("(,", "\(\"\"\,");
      getdef = getdef.replace(",)", "\,\"\")");
      console.log(getdef);
      //copy
      navigator.clipboard.writeText(getdef);
      }, false);
      
*/



//各reset button
function resetattack() {
  document.getElementById("attackdefault").value = "";
  document.getElementById("attackseed").value = 0;
  document.getElementById("attackweapon").value = "";
  document.getElementById("attackLS").value = 1;
  document.getElementById("attackkeitoubuff").value = 1;
  document.getElementById("attackanotherbuff").value = "";
  document.getElementById("attackaddkasann").value = "";
  document.getElementById("attackaddjyousann").value = "";
  document.getElementById("summonattackerselect").value = "yobidasi";
}
const resetattackerbtn = document.getElementById("resetattackerbtn");
resetattackerbtn.addEventListener("click", function () {
  resetattack();
  calculateDamage();
}, false);

function resetdefense() {
  document.getElementById("defensedefault").value = "";
  document.getElementById("defenseseed").value = 0;
  document.getElementById("defenseweapon").value = 0;
  document.getElementById("defenseLS").value = 1;
  document.getElementById("defensekeitoubuff").value = 1;
  document.getElementById("sukarabuff").value = 1;
  document.getElementById("defenseaddkasann").value = "";
  document.getElementById("defenseaddjyousann").value = "";
  document.getElementById("summondefenderselect").value = "yobidasi";
}
const resetdefenderbtn = document.getElementById("resetdefenderbtn");
resetdefenderbtn.addEventListener("click", function () {
  resetdefense();
  calculateDamage();
}, false);

function resetnormalconditions() {
  document.getElementById("baiki").value = 1;
  document.getElementById("damebari").value = 1;
  document.getElementById("jyousannnormal1").value = "";
  document.getElementById("jyousannnormal2").value = "";
  document.getElementById("jyousannnormal3").value = "";
  document.getElementById("jyousannnormal4").value = "";
  document.getElementById("kasannnormal1").value = "";
  document.getElementById("kasannnormal2").value = "";
  document.getElementById("kasannnormal3").value = "";
  document.getElementById("kasannnormal4").value = "";
  document.getElementById("gennsannnormal1").value = "";
  document.getElementById("gennsannnormal2").value = "";
  document.getElementById("gennsannnormal3").value = "";
  document.getElementById("gennsannnormal4").value = "";
}
const resetnormalconditionsbtn = document.getElementById("resetnormalconditionsbtn");
resetnormalconditionsbtn.addEventListener("click", function () {
  resetnormalconditions();
  calculateDamage();
}, false);

function resetskillconditions() {
  document.getElementById("bairitsu").value = "";
  document.getElementById("taisei").value = 1;
  document.getElementById("rennkei").value = 1;
  document.getElementById("jyousannskill1").value = "";
  document.getElementById("jyousannskill2").value = "";
  document.getElementById("jyousannskill3").value = "";
  document.getElementById("jyousannskill4").value = "";
  document.getElementById("kasannskill1").value = "";
  document.getElementById("kasannskill2").value = "";
  document.getElementById("kasannskill3").value = "";
  document.getElementById("kasannskill4").value = "";
  document.getElementById("gennsannskill1").value = "";
  document.getElementById("gennsannskill2").value = "";
  document.getElementById("gennsannskill3").value = "";
  document.getElementById("gennsannskill4").value = "";
}
const resetskillconditionsbtn = document.getElementById("resetskillconditionsbtn");
resetskillconditionsbtn.addEventListener("click", function () {
  resetskillconditions();
  calculateDamage();
}, false);


function resetspell() {
  document.getElementById("intdefault").value = "";
  document.getElementById("intseed").value = 0;
  document.getElementById("intweapon").value = 0;
  document.getElementById("intbuff").value = 1;
  document.getElementById("intdifferencebonus").value = 1.25;
  document.getElementById("intskillplus").value = 1.15;
  document.getElementById("minint").value = 200;
  document.getElementById("minintdamage").value = "";
  document.getElementById("maxint").value = 600;
  document.getElementById("maxintdamage").value = "";
  document.getElementById("enemyintdefault").value = "";
  document.getElementById("enemyintseed").value = 0;
  document.getElementById("enemyintweapon").value = 0;
  document.getElementById("enemyintbuff").value = 1;
  document.getElementById("intskillselect").value = "none";
}
const resetspellbtn = document.getElementById("resetspellbtn");
resetspellbtn.addEventListener("click", function () {
  resetspell();
  calculateint();
  document.getElementById("intdifferencebonus").value = 1.25;
}, false);

function resetall() {
  resetattack();
  resetdefense();
  resetnormalconditions();
  resetskillconditions();
  resetspell();
  document.getElementById("HPdefault").value = "";
  document.getElementById("HPseedselect").value = 0;
  document.getElementById("HPLSselect").value = 1.04;
  document.getElementById("calculateHPskillhit").value = 1;
  document.getElementById("calculateHPnormalhit").value = 0;
  document.getElementById("koteidamage").value = "";
  calculateint();
  document.getElementById("intdifferencebonus").value = 1.25;
}

//以下依存切り替えシステム、他にはinaccordancewithattackのdiv


function ifattizon() {
  document.getElementById("inaccordancewithattack").style.display = "block";
  document.getElementById("baiki").style.display = "inline";
  document.getElementById("baikilabel").style.display = "inline";
  document.getElementById("bairitsu").style.display = "inline";
  document.getElementById("bairitsulabel").style.display = "inline";
  document.getElementById("labelfordisplaynormaldamage").style.display = "inline";
  document.getElementById("displaynormaldamage").style.display = "inline";
  document.getElementById("alertnormaldamage").style.display = "inline";

  document.getElementById("inaccordancewithint").style.display = "none";

  document.getElementById("plusofremainingHP").style.display = "inline";
  document.getElementById("calculateHPnormalhit").style.display = "inline";

  document.getElementById("inaccordancewithkotei").style.display = "none";
  const summondefenderselect = document.getElementById('summondefenderselect');
  summondefenderselect.classList.remove('margin');
  const resetdefenderbtn = document.getElementById('resetdefenderbtn');
  resetdefenderbtn.classList.remove('margin');
  calculateDamage();
}

function ifintizon() {
  document.getElementById("inaccordancewithattack").style.display = "none";
  document.getElementById("baiki").style.display = "none";
  document.getElementById("baikilabel").style.display = "none";
  document.getElementById("bairitsu").style.display = "none";
  document.getElementById("bairitsulabel").style.display = "none";
  document.getElementById("labelfordisplaynormaldamage").style.display = "none";
  document.getElementById("displaynormaldamage").style.display = "none";
  document.getElementById("alertnormaldamage").style.display = "none";

  document.getElementById("inaccordancewithint").style.display = "block";

  document.getElementById("inaccordancewithint").style.display = "block";

  document.getElementById("plusofremainingHP").style.display = "none";
  document.getElementById("calculateHPnormalhit").style.display = "none";

  document.getElementById("inaccordancewithkotei").style.display = "none";
  
  const summondefenderselect = document.getElementById('summondefenderselect');
  summondefenderselect.classList.add('margin');
  const resetdefenderbtn = document.getElementById('resetdefenderbtn');
  resetdefenderbtn.classList.add('margin');
  calculateDamage();
}

function ifkoteiizon() {
  document.getElementById("inaccordancewithattack").style.display = "none";
  document.getElementById("baiki").style.display = "none";
  document.getElementById("baikilabel").style.display = "none";
  document.getElementById("bairitsu").style.display = "none";
  document.getElementById("bairitsulabel").style.display = "none";
  document.getElementById("labelfordisplaynormaldamage").style.display = "none";
  document.getElementById("displaynormaldamage").style.display = "none";
  document.getElementById("alertnormaldamage").style.display = "none";

  document.getElementById("inaccordancewithint").style.display = "none";

  document.getElementById("plusofremainingHP").style.display = "none";
  document.getElementById("calculateHPnormalhit").style.display = "none";

  document.getElementById("inaccordancewithkotei").style.display = "block";
  const summondefenderselect = document.getElementById('summondefenderselect');
  summondefenderselect.classList.remove('margin');
  const resetdefenderbtn = document.getElementById('resetdefenderbtn');
  resetdefenderbtn.classList.remove('margin');
  calculateDamage();
}

function askizon() {
  let elements = document.getElementsByName("izon");
  let len = elements.length;
  let checkValue = "";

  for (let i = 0; i < len; i++) {
    if (elements.item(i).checked) {
      checkValue = elements.item(i).value;
    }
  }
  return checkValue;
}

const defaulttabValues = {
    attackdefault: "",
    attackseed: "0",
    attackweapon: "",
    attackLS: "1",
    attackkeitoubuff: "1",
    attackanotherbuff: "",
    attackaddkasann: "",
    attackaddjyousann: "",
    baiki: "1",
    jyousannnormal1: "",
    jyousannnormal2: "",
    kasannnormal1: "",
    kasannnormal2: "",
    gennsannnormal1: "",
    gennsannnormal2: "",
    bairitsu: "",
    jyousannskill1: "",
    jyousannskill2: "",
    kasannskill1: "",
    kasannskill2: "",
    gennsannskill1: "",
    gennsannskill2: "",
    defensedefault: "",
    defenseseed: "0",
    defenseweapon: "0",
    defenseLS: "1",
    defensekeitoubuff: "1",
    sukarabuff: "1",
    defenseaddkasann: "",
    defenseaddjyousann: "",
    damebari: "1",
    jyousannnormal3: "",
    jyousannnormal4: "",
    kasannnormal3: "",
    kasannnormal4: "",
    gennsannnormal3: "",
    gennsannnormal4: "",
    jyousannskill3: "",
    jyousannskill4: "",
    kasannskill3: "",
    kasannskill4: "",
    gennsannskill3: "",
    gennsannskill4: "",
    HPdefault: "",
    HPseedselect: "0",
    HPLSselect: "1.04",
    taisei: "1",
    rennkei: "1",
    summonattackerselect: "yobidasi",
    summondefenderselect: "yobidasi",
    calculateHPskillhit: "1",
    calculateHPnormalhit: "0",
    intdefault: "",
    intseed: "0",
    intweapon: "0",
    intbuff: "1",
    intdifferencebonus: "1.25",
    intskillplus: "1.15",
    minint: "200",
    minintdamage: "",
    maxint: "600",
    maxintdamage: "",
    enemyintdefault: "",
    enemyintseed: "0",
    enemyintweapon: "0",
    enemyintbuff: "1",
    intskillselect: "none",
    koteidamage: "",
    izon: "attizon",
    totaldamage: ""
};


const tabValues = {
  1: { ...defaulttabValues },
  2: { ...defaulttabValues },
  3: { ...defaulttabValues },
  4: { ...defaulttabValues },
  5: { ...defaulttabValues },
  6: { ...defaulttabValues }
};

let currentTab = 1;

function saveTabValue() {
  tabValues[currentTab].attackdefault = document.getElementById("attackdefault").value;
  tabValues[currentTab].attackseed = document.getElementById("attackseed").value;
  tabValues[currentTab].attackweapon = document.getElementById("attackweapon").value;
  tabValues[currentTab].attackLS = document.getElementById("attackLS").value;
  tabValues[currentTab].attackkeitoubuff = document.getElementById("attackkeitoubuff").value;
  tabValues[currentTab].attackanotherbuff = document.getElementById("attackanotherbuff").value;
  tabValues[currentTab].attackaddkasann = document.getElementById("attackaddkasann").value;
  tabValues[currentTab].attackaddjyousann = document.getElementById("attackaddjyousann").value;
  tabValues[currentTab].baiki = document.getElementById("baiki").value;
  tabValues[currentTab].jyousannnormal1 = document.getElementById("jyousannnormal1").value;
  tabValues[currentTab].jyousannnormal2 = document.getElementById("jyousannnormal2").value;
  tabValues[currentTab].kasannnormal1 = document.getElementById("kasannnormal1").value;
  tabValues[currentTab].kasannnormal2 = document.getElementById("kasannnormal2").value;
  tabValues[currentTab].gennsannnormal1 = document.getElementById("gennsannnormal1").value;
  tabValues[currentTab].gennsannnormal2 = document.getElementById("gennsannnormal2").value;
  tabValues[currentTab].bairitsu = document.getElementById("bairitsu").value;
  tabValues[currentTab].jyousannskill1 = document.getElementById("jyousannskill1").value;
  tabValues[currentTab].jyousannskill2 = document.getElementById("jyousannskill2").value;
  tabValues[currentTab].kasannskill1 = document.getElementById("kasannskill1").value;
  tabValues[currentTab].kasannskill2 = document.getElementById("kasannskill2").value;
  tabValues[currentTab].gennsannskill1 = document.getElementById("gennsannskill1").value;
  tabValues[currentTab].gennsannskill2 = document.getElementById("gennsannskill2").value;


  tabValues[currentTab].defensedefault = document.getElementById("defensedefault").value;
  tabValues[currentTab].defenseseed = document.getElementById("defenseseed").value;
  tabValues[currentTab].defenseweapon = document.getElementById("defenseweapon").value;
  tabValues[currentTab].defenseLS = document.getElementById("defenseLS").value;
  tabValues[currentTab].defensekeitoubuff = document.getElementById("defensekeitoubuff").value;
  tabValues[currentTab].sukarabuff = document.getElementById("sukarabuff").value;
  tabValues[currentTab].defenseaddkasann = document.getElementById("defenseaddkasann").value;
  tabValues[currentTab].defenseaddjyousann = document.getElementById("defenseaddjyousann").value;
  tabValues[currentTab].damebari = document.getElementById("damebari").value;
  tabValues[currentTab].jyousannnormal3 = document.getElementById("jyousannnormal3").value;
  tabValues[currentTab].jyousannnormal4 = document.getElementById("jyousannnormal4").value;
  tabValues[currentTab].kasannnormal3 = document.getElementById("kasannnormal3").value;
  tabValues[currentTab].kasannnormal4 = document.getElementById("kasannnormal4").value;
  tabValues[currentTab].gennsannnormal3 = document.getElementById("gennsannnormal3").value;
  tabValues[currentTab].gennsannnormal4 = document.getElementById("gennsannnormal4").value;
  tabValues[currentTab].jyousannskill3 = document.getElementById("jyousannskill3").value;
  tabValues[currentTab].jyousannskill4 = document.getElementById("jyousannskill4").value;
  tabValues[currentTab].kasannskill3 = document.getElementById("kasannskill3").value;
  tabValues[currentTab].kasannskill4 = document.getElementById("kasannskill4").value;
  tabValues[currentTab].gennsannskill3 = document.getElementById("gennsannskill3").value;
  tabValues[currentTab].gennsannskill4 = document.getElementById("gennsannskill4").value;
  tabValues[currentTab].HPdefault = document.getElementById("HPdefault").value;
  tabValues[currentTab].HPseedselect = document.getElementById("HPseedselect").value;
  tabValues[currentTab].HPLSselect = document.getElementById("HPLSselect").value;
  tabValues[currentTab].taisei = document.getElementById("taisei").value;
  tabValues[currentTab].rennkei = document.getElementById("rennkei").value;
  tabValues[currentTab].summonattackerselect = document.getElementById("summonattackerselect").value;
  tabValues[currentTab].summondefenderselect = document.getElementById("summondefenderselect").value;
  tabValues[currentTab].calculateHPskillhit = document.getElementById("calculateHPskillhit").value;
  tabValues[currentTab].calculateHPnormalhit = document.getElementById("calculateHPnormalhit").value;
  tabValues[currentTab].intdefault = document.getElementById("intdefault").value;
  tabValues[currentTab].intseed = document.getElementById("intseed").value;
  tabValues[currentTab].intweapon = document.getElementById("intweapon").value;
  tabValues[currentTab].intbuff = document.getElementById("intbuff").value;
  tabValues[currentTab].intdifferencebonus = document.getElementById("intdifferencebonus").value;
  tabValues[currentTab].intskillplus = document.getElementById("intskillplus").value;
  tabValues[currentTab].minint = document.getElementById("minint").value;
  tabValues[currentTab].minintdamage = document.getElementById("minintdamage").value;
  tabValues[currentTab].maxint = document.getElementById("maxint").value;
  tabValues[currentTab].maxintdamage = document.getElementById("maxintdamage").value;
  tabValues[currentTab].enemyintdefault = document.getElementById("enemyintdefault").value;
  tabValues[currentTab].enemyintseed = document.getElementById("enemyintseed").value;
  tabValues[currentTab].enemyintweapon = document.getElementById("enemyintweapon").value;
  tabValues[currentTab].enemyintbuff = document.getElementById("enemyintbuff").value;
  tabValues[currentTab].intskillselect = document.getElementById("intskillselect").value;
  tabValues[currentTab].koteidamage = document.getElementById("koteidamage").value;
  const selectedizon = askizon();
  tabValues[currentTab].izon = selectedizon;
  tabValues[currentTab].totaldamage = totaldamage;
}

function Tabassignment() {
  document.getElementById("attackdefault").value = tabValues[currentTab].attackdefault;
  document.getElementById("attackseed").value = tabValues[currentTab].attackseed;
  document.getElementById("attackweapon").value = tabValues[currentTab].attackweapon;
  document.getElementById("attackLS").value = tabValues[currentTab].attackLS;
  document.getElementById("attackkeitoubuff").value = tabValues[currentTab].attackkeitoubuff;
  document.getElementById("attackanotherbuff").value = tabValues[currentTab].attackanotherbuff;
  document.getElementById("attackaddkasann").value = tabValues[currentTab].attackaddkasann;
  document.getElementById("attackaddjyousann").value = tabValues[currentTab].attackaddjyousann;
  document.getElementById("baiki").value = tabValues[currentTab].baiki;
  document.getElementById("jyousannnormal1").value = tabValues[currentTab].jyousannnormal1;
  document.getElementById("jyousannnormal2").value = tabValues[currentTab].jyousannnormal2;
  document.getElementById("kasannnormal1").value = tabValues[currentTab].kasannnormal1;
  document.getElementById("kasannnormal2").value = tabValues[currentTab].kasannnormal2;
  document.getElementById("gennsannnormal1").value = tabValues[currentTab].gennsannnormal1;
  document.getElementById("gennsannnormal2").value = tabValues[currentTab].gennsannnormal2;
  document.getElementById("bairitsu").value = tabValues[currentTab].bairitsu;
  document.getElementById("jyousannskill1").value = tabValues[currentTab].jyousannskill1;
  document.getElementById("jyousannskill2").value = tabValues[currentTab].jyousannskill2;
  document.getElementById("kasannskill1").value = tabValues[currentTab].kasannskill1;
  document.getElementById("kasannskill2").value = tabValues[currentTab].kasannskill2;
  document.getElementById("gennsannskill1").value = tabValues[currentTab].gennsannskill1;
  document.getElementById("gennsannskill2").value = tabValues[currentTab].gennsannskill2;


  document.getElementById("defensedefault").value = tabValues[currentTab].defensedefault;
  document.getElementById("defenseseed").value = tabValues[currentTab].defenseseed;
  document.getElementById("defenseweapon").value = tabValues[currentTab].defenseweapon;
  document.getElementById("defenseLS").value = tabValues[currentTab].defenseLS;
  document.getElementById("defensekeitoubuff").value = tabValues[currentTab].defensekeitoubuff;
  document.getElementById("sukarabuff").value = tabValues[currentTab].sukarabuff;
  document.getElementById("defenseaddkasann").value = tabValues[currentTab].defenseaddkasann;
  document.getElementById("defenseaddjyousann").value = tabValues[currentTab].defenseaddjyousann;
  document.getElementById("damebari").value = tabValues[currentTab].damebari;
  document.getElementById("jyousannnormal3").value = tabValues[currentTab].jyousannnormal3;
  document.getElementById("jyousannnormal4").value = tabValues[currentTab].jyousannnormal4;
  document.getElementById("kasannnormal3").value = tabValues[currentTab].kasannnormal3;
  document.getElementById("kasannnormal4").value = tabValues[currentTab].kasannnormal4;
  document.getElementById("gennsannnormal3").value = tabValues[currentTab].gennsannnormal3;
  document.getElementById("gennsannnormal4").value = tabValues[currentTab].gennsannnormal4;
  document.getElementById("jyousannskill3").value = tabValues[currentTab].jyousannskill3;
  document.getElementById("jyousannskill4").value = tabValues[currentTab].jyousannskill4;
  document.getElementById("kasannskill3").value = tabValues[currentTab].kasannskill3;
  document.getElementById("kasannskill4").value = tabValues[currentTab].kasannskill4;
  document.getElementById("gennsannskill3").value = tabValues[currentTab].gennsannskill3;
  document.getElementById("gennsannskill4").value = tabValues[currentTab].gennsannskill4;
  document.getElementById("HPdefault").value = tabValues[currentTab].HPdefault;
  document.getElementById("HPseedselect").value = tabValues[currentTab].HPseedselect;
  document.getElementById("HPLSselect").value = tabValues[currentTab].HPLSselect;
  document.getElementById("taisei").value = tabValues[currentTab].taisei;
  document.getElementById("rennkei").value = tabValues[currentTab].rennkei;
  document.getElementById("summonattackerselect").value = tabValues[currentTab].summonattackerselect;
  document.getElementById("summondefenderselect").value = tabValues[currentTab].summondefenderselect;
  document.getElementById("calculateHPskillhit").value = tabValues[currentTab].calculateHPskillhit;
  document.getElementById("calculateHPnormalhit").value = tabValues[currentTab].calculateHPnormalhit;
  document.getElementById("intdefault").value = tabValues[currentTab].intdefault;
  document.getElementById("intseed").value = tabValues[currentTab].intseed;
  document.getElementById("intweapon").value = tabValues[currentTab].intweapon;
  document.getElementById("intbuff").value = tabValues[currentTab].intbuff;
  document.getElementById("intdifferencebonus").value = tabValues[currentTab].intdifferencebonus;
  document.getElementById("intskillplus").value = tabValues[currentTab].intskillplus;
  document.getElementById("minint").value = tabValues[currentTab].minint;
  document.getElementById("minintdamage").value = tabValues[currentTab].minintdamage;
  document.getElementById("maxint").value = tabValues[currentTab].maxint;
  document.getElementById("maxintdamage").value = tabValues[currentTab].maxintdamage;
  document.getElementById("enemyintdefault").value = tabValues[currentTab].enemyintdefault;
  document.getElementById("enemyintseed").value = tabValues[currentTab].enemyintseed;
  document.getElementById("enemyintweapon").value = tabValues[currentTab].enemyintweapon;
  document.getElementById("enemyintbuff").value = tabValues[currentTab].enemyintbuff;
  document.getElementById("intskillselect").value = tabValues[currentTab].intskillselect;
  document.getElementById("koteidamage").value = tabValues[currentTab].koteidamage;
  const attizonRadio = document.getElementById('attizon');
  const intizonRadio = document.getElementById('intizon');
  const koteiizonRadio = document.getElementById('koteiizon');
  if (tabValues[currentTab].izon === 'attizon') {
    attizonRadio.checked = true;
    ifattizon();
  } else if (tabValues[currentTab].izon === 'intizon') {
    intizonRadio.checked = true;
    ifintizon();
  } else if (tabValues[currentTab].izon === 'koteiizon') {
    koteiizonRadio.checked = true;
    ifkoteiizon();
  }
}

function addTabclass(targettabnum, targetclass) {
  const tabButtons = document.querySelectorAll('.tabbutton');
  if (targettabnum == 7) {
    tabButtons.forEach((tabButton) => {
      tabButton.classList.remove(targetclass);
    });
    return;
  } else {
    const targetTabButton = document.getElementById(`tab${targettabnum}`);
    tabButtons.forEach((tabButton) => {
      tabButton.classList.remove(targetclass);
    });
    targetTabButton.classList.add(targetclass);
  }
}

function switchTab(tabNumber) {
  saveTabValue();
  currentTab = tabNumber;
  Tabassignment();

  calculateDamage();
  // タブボタンに枠線を追加する
  addTabclass(tabNumber, "selected");

}

/*
let nulltab = {};
function preparenulltab(){
saveTabValue();//未入力tab値を取得して代入,それをnullに
nulltab = Object.assign({}, tabValues[1]);
tabValues[2] = Object.assign({}, nulltab);
}
初期値は定義時点で同時に設定.
*/


function tabresetbtn() {
  //tabValues[currentTab] =  Object.assign({}, nulltab);
  //reset起動
  resetall();
  const attizonRadio = document.getElementById('attizon');
  attizonRadio.checked = true;
  ifattizon();
}

// JavaScript
// 現在表示中のタブの情報をコピーするための配列
let copiedTab = {};
// タブをコピーするボタン
const copyTabButton = document.getElementById('copytab');
copyTabButton.addEventListener('click', () => {
  // 現在表示中のタブの情報をコピー
  saveTabValue();
  copiedTab = Object.assign({}, tabValues[currentTab]);
  // 貼り付けボタンを有効にする
  pasteTabButton.disabled = false;
  // コピーと貼り付けボタンのテキストを変更
  copyTabButton.textContent = '記憶';
  pasteTabButton.textContent = '貼り付け';
  //コピーしたtabにtagづけ、それ以外のtabからcopiedをremove
  addTabclass(currentTab, "copied");
});

// タブを貼り付けるボタン
const pasteTabButton = document.getElementById('pastetab');
pasteTabButton.addEventListener('click', () => {
  // コピーしたタブ情報を現在のタブに貼り付ける
  tabValues[currentTab] = Object.assign({}, copiedTab);
  //そのtabvaluesの値をinputに代入、上書きして表示
  Tabassignment();
  // コピーと貼り付けボタンのテキストを元に戻す
  copyTabButton.textContent = '記憶';
  pasteTabButton.textContent = '貼り付け';
  // 貼り付けボタンを無効にする
  pasteTabButton.disabled = true;
  //全てのtabからcopiedをremove
  addTabclass(7, "copied");
  calculateDamage();
});

    function intskillprepare(){
      document.getElementById("intskillselect").style.display = "none";
    }
    const activatespellbtn = document.getElementById("activatespell");
activatespellbtn.addEventListener("click", function () {


document.getElementByClass("adiv").style.display = "inline";

}, false);



function compareA(){
// lower と higher の初期値を設定

const compare1 = document.getElementById("compare1").value;
const compare2 = document.getElementById("compare2").value;

let higher;
let lower;

if (compare1 > compare2) {
  higher = compare1;
  lower = compare2;
} else {
  higher = compare2;
  lower = compare1;
}


/*
const lower = 393; // 例として初期値を設定
const higher = 406; // 例として初期値を設定
*/


// 正常と異常のカウンターを初期化
let normalCount = 0;
let abnormalCount = 0;

// 0.975から1.025の間で0.001ずつ増加する51種類の数を生成
for (let i = 0; i <= 50; i++) {
  const lowerfinal = lower * (0.975 + 0.001 * i);
  for (let j = 0; j <= 50; j++) {
    const higherfinal = higher * (0.975 + 0.001 * j);

    if (lowerfinal < higherfinal) {
      normalCount++; // 正常
    } else if (lowerfinal > higherfinal) {
      abnormalCount++; // 異常
    } else {
      // 同じ値の場合、半分の確率で正常、半分の確率で異常
      if (Math.random() < 0.5) {
        normalCount++; // 正常
      } else {
        abnormalCount++; // 異常
      }
    }
  }
}

// 正常と異常の確率を計算
const totalCombinations = 51 * 51; // 51種類の組み合わせ
const normalProbability = normalCount / totalCombinations;
const abnormalProbability = abnormalCount / totalCombinations;

// 結果の表示
console.log("正常の確率: ", normalProbability);
console.log("異常の確率: ", abnormalProbability);

document.getElementById("normal").innerHTML = Math.round(normalProbability*10000)/100;
document.getElementById("abnormal").innerHTML = Math.round(abnormalProbability*10000)/100;
document.getElementById("compare1min").innerHTML = Math.round(compare1 * 0.975 *1000)/1000;
document.getElementById("compare1max").innerHTML = Math.round(compare1 * 1.025 *1000)/1000;
document.getElementById("compare2min").innerHTML = Math.round(compare2 * 0.975 *1000)/1000;
document.getElementById("compare2max").innerHTML = Math.round(compare2 * 1.025 *1000)/1000;

}











/*
const debug1btn = document.getElementById("debug1");
debug1btn.addEventListener("click", function () {
  console.log(tabValues);
}, false);

console.log("hoge");
alert("hoge");
input-value span-innerhtml
debug 11と-14

・追加
メゾラ

・改善
seed選択肢増加
intbuffサイズ

*/
  </script>

</body>
</html>
